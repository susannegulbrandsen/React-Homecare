/* CALENDAR LAYOUT  */

:root {
  --accent: var(--teal-primary);
}

/* Use border-box so padding/borders are included in element width/height calculations */
*,
*::before,
*::after {
  box-sizing: border-box;
}

.container-fluid > .text-center.mb-3 { /* Header container */
  max-width: 1100px; 
  margin: 1.2rem auto 0.6rem auto; /* center and space above/below */
  text-align: left;
  display: flex;
  flex-direction: column; 
  align-items: flex-start; /* left align text */
  gap: 0.1rem;
}

.container-fluid > .text-center.mb-3 h1 { /* Main title */
  font-size: 1.85rem;
  font-weight: 700;
  color: var(--text-main);
  margin: 0;
}

.container-fluid > .text-center.mb-3 p { /* for the description text */
  font-size: 0.95rem;
  color: var(--text-muted);
  margin: 0;
}


/* Container for the view mode buttons (List / Card / Calendar) */
.appointment-toolbar .btn-group {
  display: inline-flex;
}

/* Label and input for searching appointments above the table/grid */
.appointment-search-label {
  font-size: 1rem;
  font-weight: 500; /* slightly lighter */
  color: var(--text-main);
}

.appointment-search-input {
  font-size: 1rem;
}


/* Overall container that constrains the calendar width and centers it */
.calendar-container {
  max-width: 1100px;
  margin: 0 auto 1.2rem auto;
  padding: 0 0.5rem;
  background: transparent;
}


/*  month title and navigation buttons */
.calendar-header { 
  max-width: 1100px; 
  margin: 0 auto 0.3rem auto;
  display: flex;
  justify-content: space-between;
  align-items: center; /* vertically center items */
  background: var(--bg-card);
  border-radius: var(--radius-lg); /* rounded corners */
  padding: 0.48rem 0.9rem;
  box-shadow: var(--shadow-soft); 
  border: 1px solid var(--border-soft); /* soft border */
}
.calendar-title {
  font-size: 1.08rem;
  font-weight: 500; /* lighter month title */
  color: var(--primary);
  letter-spacing: 0.01em;
}
/* Shared styling for the month navigation buttons */
.calendar-btn.btn {
  background: #fff; 
  border: 1px solid var(--border-soft); /* soft border for buttons */
  color: var(--primary); /* teal text color */
  font-weight: 500;
  border-radius: var(--radius-lg); 
  padding: 7px 18px; /* increased padding so buttons are easier to tap */
  font-size: 0.95rem; 
  line-height: 1;
  transition: var(--transition-fast); 
}

/* Hover/focus stykes for month navigation buttons */
.calendar-btn.btn:hover,
.calendar-btn.btn:focus { 
  background: var(--primary); 
  color: #fff; /* white text on hover */
  box-shadow: 0 3px 8px rgba(13, 148, 136, 0.16); 
  transform: translateY(-1px); 
}
/* Focus styles to improve accessibility */
.calendar-btn:focus-visible { 
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}



/* weekday labels */
.calendar-grid:first-of-type {
  max-width: 1100px;
  margin: 0.05rem auto 0 auto;
  padding: 0;
  background: transparent; /* no background for weekday header */
  border: none; /* no border for weekday header */
  box-shadow: none; /* no shadow for weekday header */
  padding-bottom: 0.35rem; /* space below weekday labels */
  margin-bottom: 0.25rem;
  border-bottom: 1px solid var(--border-soft);
}

/* Weekday header cells */
.calendar-grid:first-of-type .day-header {
  font-size: 0.75rem;
  font-weight: 500; /* reduce bold for weekday labels */
  color: var(--text-muted);
  text-align: center;
  text-transform: uppercase; /* uppercase for weekday labels */
  letter-spacing: 0.12em; /* spacing between letters for readability */
  padding: 0.16rem 0 0.12rem 0;
  background: transparent;
  border: none;
}


/* Second calendar-grid contains the actual days and appointments */
.calendar-grid:last-of-type {
  max-width: 1100px;
  margin: 0.2rem auto 0 auto;
  padding: 0.6rem;
  background: var(--bg-card-muted);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-soft);
  border: 1px solid rgba(229, 231, 235, 0.9); 
}
.calendar-week { /* for each week row inside the calendar grid */
  margin: 0 0 5px 0;  
  gap: 6px;
}
.calendar-week:last-child { /* Remove bottom margin on last week row */
  margin-bottom: 0;
}
.calendar-week > .col {
  padding: 0;
}


/* Each calendar cell representing one day */
.calendar-card {
  background: var(--bg-card);
  border-radius: var(--radius-md);
  border: 1px solid rgba(229, 231, 235, 0.98);
  box-shadow: 0 1px 1px rgba(15, 23, 42, 0.02);
  transition: var(--transition-fast);
  min-height: 64px;
  padding: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
.calendar-card:hover { /* Hover effect for day cards */
  transform: translateY(-1px);
  box-shadow: var(--shadow-hover);
  border-color: rgba(13, 148, 136, 0.22);
}

/* Highlight days that contain at least one appointment */
.calendar-card:has(.appointment-item) {
  border-color: rgba(23, 126, 139, 0.32);
  background: #f7fcfc;
}


/* Top section inside a day card*/
.calendar-card-header.card-header {
  padding: 4px 7px 2px 7px; 
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  background: transparent;
  border-bottom: none;
}

/* Date number inside day card header */
.calendar-card-date {
  font-size: 0.82rem;
  font-weight: 500; /* lighter date weight */
  color: var(--text-main);
}

/* Badge showing number of appointments on that day */
.calendar-badge.badge { 
  font-size: 0.6rem;
  background-color: #eef2f7;
  color: var(--primary);
  padding: 1px 6px;
  border-radius: 999px;
  font-weight: 500;
  border: none;
}

/* Con*tainer for the list of appointments inside the day card */
.calendar-body.card-body {
  flex: 1;
  padding: 2px 7px 4px 7px;
  display: flex;
  flex-direction: column;
  gap: 3px;
  overflow: hidden;
  justify-content: flex-start;
}

/* Appointment item inside the day card */
.appointment-item {
  padding: 4px 7px; /* increased padding for better touch targets */
  font-size: 0.72rem;
  background: #f0fbfb;
  border-radius: var(--radius-sm); /* softer corners */
  color: #111827;
  font-weight: 500; 
  border: 1px solid rgba(23, 126, 139, 0.18);
  border-left: 3px solid var(--accent); /* teal accent on left side */
  display: flex;
  align-items: center;
  justify-content: space-between; /* space between subject and time */
  gap: 4px;
  max-width: 100%;
  white-space: nowrap; /* prevent wrapping */
  overflow: hidden;
  text-overflow: ellipsis; /* ellipsis for overflow text */
  cursor: pointer;
  transition: var(--transition-fast); 
}
.appointment-item:hover {
  background: var(--primary-soft); /* subtle teal background on hover */
  color: var(--text-main);
  border-color: rgba(23, 126, 139, 0.45);
  box-shadow: 0 2px 6px rgba(23, 126, 139, 0.16); /* subtle shadow on hover */
  transform: translateY(-1px);
}

/* Focus styles for appointment items for accessibility */
.appointment-item:focus-visible {
  outline: 2px solid var(--primary); /* focus ring for accessibility */
  outline-offset: 1px;
}
/* Time text inside appointment item */
.appointment-time {
  font-size: 0.65rem;
  font-weight: 500;
  color: var(--text-muted);
}
/* "More" link when there are too many appointments to show */
.appointment-more {
  margin-top: 1px;
  font-size: 0.64rem;
  cursor: pointer;
  color: var(--primary);
  align-self: flex-start;
}
.appointment-more:hover {
  text-decoration: underline;
}

/* Styles for the cell representing the current day */
.calendar-today {
  border-color: rgba(13, 148, 136, 0.95);
  box-shadow: 0 0 0 1px rgba(13, 148, 136, 0.18);
  background: #e6f7f6; /* Added: highlight today's card background */
}
.calendar-today .calendar-card-date { /* Emphasize date number for today */
  color: #111827;
  font-weight: 700;
}

/* Days from previous/next month rendered in the current month grid */
.calendar-outside-month {
  background: #f9fafb;
  color: #9ca3af;
  opacity: 0.32;
}
/* Hide appointments on days outside the current month */
.calendar-outside-month .appointment-item,
.calendar-outside-month .appointment-more {
  display: none;
}


/* Panel under the  calendar*/
.calendar-legend {
  max-width: 1100px;
  margin: 0.5rem auto 0 auto;
  padding: 0.34rem 0.8rem;
  background: #fff;
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-soft);
  box-shadow: var(--shadow-soft);
  display: flex;
  align-items: center;
  gap: 0.8rem;
}
.calendar-legend-text {
  font-size: 0.7rem;
  color: var(--text-muted);
}

/* "Today" badge  */
.calendar-legend .badge.bg-primary, /* Teal badge for "Today" */
.calendar-legend .calendar-badge.bg-primary,
.calendar-legend .badge.bg-teal {
  background-color: var(--teal-primary) !important; /* Teal background */
  color: #ffffff;
  border-radius: 6px;
  padding: 2px 8px;
}

/*  modal styles for appointment details */
.modal-title-custom {  /* Modal title */
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--primary);
}
.modal-body-custom { /* Modal body text */
  font-size: 0.93rem;
  color: var(--text-main);
}
.modal-subject { /* Subject line inside modal */
  font-size: 1.05rem;
  font-weight: 500; /* soften modal subject weight */
  color: var(--primary);
}
.modal-info { /* Additional info lines inside modal */
  font-size: 0.88rem;
  color: #374151;
}
.modal-btn { /* Buttons inside modal */
  font-size: 0.84rem;
  padding: 0.38rem 0.95rem;
  border-radius: var(--radius-lg);
}


/* Adjust calendar layout and text sizes for tablets/smaller laptops */
@media (max-width: 992px) {
  .calendar-header,
  .calendar-grid:first-of-type,
  .calendar-grid:last-of-type,
  .calendar-legend,
  .appointment-toolbar,
  .appointment-page-header {
    max-width: 100%;
  }

  .calendar-grid:last-of-type { /* reduce padding on smaller screens */
    padding: 0.5rem;
  }

  .calendar-card {
    min-height: 60px;
  }
}

/* Further reductions and font tweaks for mobile phones */
@media (max-width: 576px) {
  .appointment-page-title {
    font-size: 1.5rem;
  }
  .appointment-page-description {
    font-size: 0.85rem;
  }

  .calendar-header {
    padding: 0.4rem 0.7rem;
  }
  .calendar-title {
    font-size: 0.98rem;
  }
  .calendar-btn {
    padding: 3px 9px;
    font-size: 0.72rem;
  }

  .calendar-card-header.card-header {
    padding: 3px 5px 1px 5px;
  }
  .calendar-card-date {
    font-size: 0.78rem;
  }
  .calendar-badge {
    font-size: 0.55rem;
  }

  .appointment-item {
    font-size: 0.68rem;
    padding: 3px 5px;
  }
  .appointment-time {
    font-size: 0.6rem;
  }
}


/* Shared styling for Update/Delete buttons in the grid view */
.appointment-grid-btn {
  font-size: 0.9rem;
  padding: 0.35rem 0.9rem;
  border-radius: var(--radius-md);
  font-weight: 400; /* align weight with other buttons */
}

/* Update = primary teal styling */
.btn.appointment-grid-btn-update.btn-primary {
  background-color: var(--teal-primary);
  border-color: var(--teal-primary);
  color: #ffffff;
}
/* Hover/focus styling for the update button */
.btn.appointment-grid-btn-update.btn-primary:hover,
.btn.appointment-grid-btn-update.btn-primary:focus {
  background-color: var(--teal-hover);   /* Slightly darker teal on hover/focus */
  border-color: var(--teal-hover);
  color: #ffffff;
}

/* Delete = softer red styling */
button.btn.appointment-grid-btn-delete {
  background-color: var(--color-white);
  border-color: var(--color-error-light);
  color: var(--color-error-dark);
}

button.btn.appointment-grid-btn-delete:hover,
button.btn.appointment-grid-btn-delete:focus {
  background-color: var(--color-error-light); /* Light red background on hover/focus */
  border-color: var(--color-error-medium);
  color: var(--color-error-darker);
}


/* List view: stack Update/Delete vertically and center them under the appointment */
.appointment-actions-vertical {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.35rem;
}

/* Base styling for action buttons in the vertical appointment actions panel */
.appointment-actions-vertical .appointment-action {
  display: inline-block;
  padding: 0.35rem 0.9rem;
  border-radius: var(--radius-md);
  text-decoration: none;
  min-width: 85px;
  text-align: center;
}
.appointment-actions-vertical .appointment-action-delete {
  margin-left: 0; /* Remove any left margin from utility classes */
}

/* Ensure all buttons inside the vertical actions use inline-block and no left margin */
.appointment-actions-vertical .btn {
  display: inline-block;
  margin-left: 0; /* Remove any left margin from utility classes */
}

/* Match grid color styling for list view stacked "Update" button */
.appointment-actions-vertical button.appointment-action-update {
  background-color: var(--teal-primary);
  border: 1px solid var(--teal-primary);
  color: #ffffff;
  font-weight: 400; 
}
/* Unified hover/focus styling for the update button */
.appointment-actions-vertical button.appointment-action-update:hover,
.appointment-actions-vertical button.appointment-action-update:focus {
  background-color: var(--teal-hover);
  border-color: var(--teal-hover);
  color: #ffffff;
}

/* Match grid color styling for list view stacked "Delete" button */
.appointment-actions-vertical button.appointment-action-delete.btn {
  background-color: transparent;
  border: 1px solid transparent;
  color: var(--color-error-dark);
  font-weight: 400; /* unified normal weight */
}
.appointment-actions-vertical .appointment-action-delete:hover,
.appointment-actions-vertical .appointment-action-delete:focus {
  background-color: #fee2e2 !important;
  border-color: #fecaca !important;
  color: #7f1d1d !important;
}

/* Confirm button, green version for all views */
.appointment-actions-vertical .appointment-action-confirm,
.appointment-actions-vertical .appointment-action-confirm:link,
.appointment-actions-vertical .appointment-action-confirm:visited,
.btn-confirm,
.btn-confirm-modal {
  background-color: transparent !important;
  border: 1px solid transparent !important;
  color: #15803d !important;
  font-weight: 600 !important;
}

/* Unified hover/focus styling for all confirm-type buttons  */
.appointment-actions-vertical .appointment-action-confirm:hover,
.appointment-actions-vertical .appointment-action-confirm:focus,
.btn-confirm:hover,
.btn-confirm:focus,
.btn-confirm-modal:hover,
.btn-confirm-modal:focus {
  background-color: #dcfce7 !important;
  border-color: #bbf7d0 !important;
  color: #14532d !important;
}